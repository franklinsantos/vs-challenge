(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{187:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(73),a=r(1),s=r(82),c=r(54),u=function(){function t(t,e,r,n,o){this.fb=t,this.router=e,this.ngZone=r,this.productService=n,this.alertService=o,this.submitted=!1,this.loading=!1}return t.prototype.ngOnInit=function(){this.productForm=this.fb.group({name:["",[s.Validators.required]],brand:["",[s.Validators.required]],price:["",[s.Validators.required]],quantity:["",[s.Validators.required]]})},Object.defineProperty(t.prototype,"myForm",{get:function(){return this.productForm.controls},enumerable:!0,configurable:!0}),t.prototype.onSubmit=function(){var t=this;this.submitted=!0,this.alertService.clear(),this.productForm.invalid||(this.loading=!0,this.productService.createProduct(this.productForm.value).subscribe(function(e){t.alertService.success("Produto castrado com sucesso!"),t.ngZone.run(function(){return t.router.navigateByUrl("/")})},function(e){t.alertService.error(e),t.loading=!1,console.log(e)}))},t=n([a.Component({selector:"app-product-create",template:r(434)}),o("design:paramtypes",[s.FormBuilder,i.Router,a.NgZone,c.ProductService,c.AlertService])],t)}();e.ProductCreateComponent=u},213:function(t,e){function r(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}r.keys=function(){return[]},r.resolve=r,t.exports=r,r.id=213},214:function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),n(r(312)),n(r(187))},248:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(435))},249:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(437))},250:function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),n(r(439)),n(r(440)),n(r(441)),n(r(442))},251:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=r(73),s=r(82),c=r(54),u=function(){function t(t,e,r,n,o){this.fb=t,this.actRoute=e,this.productService=r,this.router=n,this.alertService=o,this.submitted=!1,this.loading=!1}return t.prototype.ngOnInit=function(){this.updateProduct();var t=this.actRoute.snapshot.paramMap.get("id");this.getProduct(t),this.editForm=this.fb.group({name:["",[s.Validators.required]],brand:["",[s.Validators.required]],price:["",[s.Validators.required]],quantity:["",[s.Validators.required]]})},Object.defineProperty(t.prototype,"myForm",{get:function(){return this.editForm.controls},enumerable:!0,configurable:!0}),t.prototype.getProduct=function(t){var e=this;this.productService.getProduct(t).subscribe(function(t){var r=t.data;e.editForm.setValue({name:r.name,brand:r.brand,price:r.price,quantity:r.quantity})})},t.prototype.updateProduct=function(){this.editForm=this.fb.group({name:["",[s.Validators.required]],brand:["",[s.Validators.required]],price:["",[s.Validators.required]],quantity:["",[s.Validators.required]]})},t.prototype.onSubmit=function(){var t=this;if(this.submitted=!0,this.alertService.clear(),!this.editForm.invalid&&window.confirm("Tem certeza que deseja alterar este registro?")){var e=this.actRoute.snapshot.paramMap.get("id");this.productService.updateProduct(e,this.editForm.value).subscribe(function(e){t.alertService.success("Produto atualizado com sucesso!"),t.router.navigateByUrl("/")},function(e){t.loading=!1,console.log(e)})}},t=n([i.Component({selector:"app-product-edit",template:r(443)}),o("design:paramtypes",[s.FormBuilder,a.ActivatedRoute,c.ProductService,a.Router,c.AlertService])],t)}();e.ProductEditComponent=u},255:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(256);var n=r(309),o=r(310);n.platformBrowserDynamic().bootstrapModule(o.AppModule)},256:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(257),r(308)},310:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=r(47),a=r(82),s=r(92),c=r(311),u=r(250),l=r(444),d=r(214),p=r(248),f=r(249),m=r(451),h=r(454),v=r(458),b=r(187),g=r(251),y=function(){function t(){}return t=n([o.NgModule({imports:[i.BrowserModule,a.ReactiveFormsModule,s.HttpClientModule,c.appRoutingModule,h.TableModule,v.BrowserAnimationsModule],declarations:[l.AppComponent,d.HomeComponent,b.ProductCreateComponent,g.ProductEditComponent,p.LoginComponent,f.RegisterComponent,m.AlertComponent],providers:[{provide:s.HTTP_INTERCEPTORS,useClass:u.JwtInterceptor,multi:!0},{provide:s.HTTP_INTERCEPTORS,useClass:u.ErrorInterceptor,multi:!0}],bootstrap:[l.AppComponent]})],t)}();e.AppModule=y},311:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(73),o=r(214),i=r(248),a=r(249),s=r(250),c=r(187),u=r(251),l=[{path:"",component:o.HomeComponent,canActivate:[s.AuthGuard]},{path:"login",component:i.LoginComponent},{path:"register",component:a.RegisterComponent},{path:"products/create",component:c.ProductCreateComponent},{path:"products/edit/:id",component:u.ProductEditComponent},{path:"**",redirectTo:""}];e.appRoutingModule=n.RouterModule.forRoot(l)},312:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=r(49),s=r(54),c=r(92),u=function(){function t(t,e,r){this.authenticationService=t,this.productService=e,this.alertService=r,this.products=[],this.totalRecords=0,this.params=new c.HttpParams,this.currentUser=this.authenticationService.currentUserValue}return t.prototype.ngOnInit=function(){this.loadAllProducts(this.params)},t.prototype.deleteProduct=function(t){var e=this;window.confirm("Tem certeza que deseja excluir este registro?")&&(this.alertService.clear(),this.productService.deleteProduct(t).pipe(a.first()).subscribe(function(){e.alertService.success("Produto exclu√≠do com sucesso!"),e.loadAllProducts(e.params)}))},t.prototype.loadAllProducts=function(t){var e=this;this.productService.searchProducts(t).toPromise().then(function(t){e.products=t.data.data,e.totalRecords=t.data.total}).catch(function(t){return console.log(t)})},t.prototype.loadData=function(t){var e=t.first/t.rows+1,r=t.rows;void 0===e&&(e=1),void 0===r&&(r=10);var n=t.multiSortMeta,o=t.filters,i=this.params;if(i=(i=i.append("page",e.toString())).append("per_page",r.toString()),n&&n.forEach(function(t){var e=1===t.order?"asc":"desc";i=i.append("sort",t.field+":"+e)}),o)for(var a=0,s=Object.entries(o);a<s.length;a++){var c=s[a],u=c[0],l=c[1];i="global"===u?i.append("q",l.value):i.append("filter",u+":"+l.value)}this.loadAllProducts(i)},t=n([i.Component({template:r(433)}),o("design:paramtypes",[s.AuthenticationService,s.ProductService,s.AlertService])],t)}();e.HomeComponent=u},313:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=r(73),s=r(50),c=function(){function t(t){var e=this;this.router=t,this.subject=new s.Subject,this.keepAfterRouteChange=!1,this.router.events.subscribe(function(t){t instanceof a.NavigationStart&&(e.keepAfterRouteChange?e.keepAfterRouteChange=!1:e.clear())})}return t.prototype.getAlert=function(){return this.subject.asObservable()},t.prototype.success=function(t,e){void 0===e&&(e=!1),this.keepAfterRouteChange=e,this.subject.next({type:"success",text:t})},t.prototype.error=function(t,e){void 0===e&&(e=!1),this.keepAfterRouteChange=e,this.subject.next({type:"error",text:t})},t.prototype.clear=function(){this.subject.next()},t=n([i.Injectable({providedIn:"root"}),o("design:paramtypes",[a.Router])],t)}();e.AlertService=c},314:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=r(92),s=r(50),c=r(49),u=function(){function t(t){this.http=t,this.currentUserSubject=new s.BehaviorSubject(JSON.parse(localStorage.getItem("currentUser"))),this.currentUser=this.currentUserSubject.asObservable()}return Object.defineProperty(t.prototype,"currentUserValue",{get:function(){return this.currentUserSubject.value},enumerable:!0,configurable:!0}),t.prototype.login=function(t,e){var r=this;return this.http.post("http://localhost/api/auth/login",{email:t,password:e}).pipe(c.map(function(t){return localStorage.setItem("currentUser",JSON.stringify(t)),r.currentUserSubject.next(t),t}))},t.prototype.logout=function(){this.http.post("http://localhost/api/auth/logof",this.currentUserValue),localStorage.removeItem("currentUser"),this.currentUserSubject.next(null)},t=n([i.Injectable({providedIn:"root"}),o("design:paramtypes",[a.HttpClient])],t)}();e.AuthenticationService=u},315:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=r(92),s=function(){function t(t){this.http=t}return t.prototype.getAll=function(){return this.http.get("http://localhost/api/users")},t.prototype.register=function(t){return this.http.post("http://localhost/api/auth/register",t)},t.prototype.delete=function(t){return this.http.delete("http://localhost/api/users/"+t)},t=n([i.Injectable({providedIn:"root"}),o("design:paramtypes",[a.HttpClient])],t)}();e.UserService=s},316:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=r(92),s=r(317),c=r(351),u=function(){function t(t){this.http=t}return t.prototype.searchProducts=function(t){var e={params:t};return this.http.get("http://localhost/api/products",e)},t.prototype.deleteProduct=function(t){return this.http.delete("http://localhost/api/products/"+t)},t.prototype.getProduct=function(t){var e="http://localhost/api/products/"+t;return this.http.get(e).pipe(c.map(function(t){return t||{}}),c.catchError(this.errorMgmt))},t.prototype.createProduct=function(t){return this.http.post("http://localhost/api/products",t).pipe(c.catchError(this.errorMgmt))},t.prototype.updateProduct=function(t,e){var r="http://localhost/api/products/"+t;return this.http.put(r,e).pipe(c.catchError(this.errorMgmt))},t.prototype.errorMgmt=function(t){var e="";return e=t.error instanceof ErrorEvent?t.error.message:"Error Code: "+t.status+"\nMessage: "+t.message,console.log(e),s.throwError(e)},t=n([i.Injectable({providedIn:"root"}),o("design:paramtypes",[a.HttpClient])],t)}();e.ProductService=u},433:function(t,e){t.exports='<h1>Ol√° {{currentUser.name}}!</h1>\n<p>Voc√™ est√° logado na Veus Sa√∫de!!</p>\n\n<div class="row">\n    <nav class="navbar navbar-expand-lg navbar-light bg-light col-md-12">\n        <h5 class="my-0 mr-md-auto font-weight-normal">Consulta de Produtos</h5>\n        <a class="btn btn-outline-primary" routerLinkActive="active" routerLink="/products/create">Adcionar Produto</a>\n    </nav>\n    <p-table #dt [value]="products" [paginator]="true" [loading]="loading" [rows]="10" sortMode="multiple" [lazy]="true" (onLazyLoad)="loadData($event)"\n             [rowsPerPageOptions]="[5,10,20,50]" [totalRecords]="totalRecords" [responsive]="true" sortField="id">\n        <ng-template pTemplate="caption">\n            <div style="text-align: right">\n                <i class="fa fa-search" style="margin:4px 4px 0 0"></i>\n                <input type="text" pInputText size="50" placeholder="Pesquisa" (input)="dt.filterGlobal($event.target.value, \'contains\')" style="width:auto">\n            </div>\n        </ng-template>\n        <ng-template pTemplate="header">\n            <tr>\n                <th pSortableColumn="id" [style]="{\'width\':\'40px\'}">\n                    ID\n                    <p-sortIcon field="id"></p-sortIcon>\n                </th>\n                <th pSortableColumn="name" [style]="{\'width\':\'140px\'}">\n                    Nome\n                    <p-sortIcon field="name"></p-sortIcon>\n                </th>\n                <th pSortableColumn="brand" [style]="{\'width\':\'100px\'}">\n                    Marca\n                    <p-sortIcon field="brand"></p-sortIcon>\n                </th>\n                <th pSortableColumn="price" [style]="{\'width\':\'100px\'}">\n                    Pre√ßo\n                    <p-sortIcon field="price"></p-sortIcon>\n                </th>\n                <th pSortableColumn="quantity" [style]="{\'width\':\'100px\'}">\n                    Quantidade\n                    <p-sortIcon field="quantity"></p-sortIcon>\n                </th>\n                <th [style]="{\'width\':\'100px\'}" rowspan="2" class="text-center">\n                    Op√ß√µes\n                </th>\n            </tr>\n            <tr>\n                <th>\n                    <input pInputText type="text" (input)="dt.filter($event.target.value, \'id\', filterMatchMode=\'equals\')">\n                </th>\n                <th>\n                    <input pInputText type="name" (input)="dt.filter($event.target.value, \'name\', filterMatchMode=\'contains\')">\n                </th>\n                <th>\n                    <input pInputText type="brand" (input)="dt.filter($event.target.value, \'brand\', filterMatchMode=\'contains\')">\n                </th>\n                <th>\n                    <input pInputText type="price" (input)="dt.filter($event.target.value, \'price\', filterMatchMode=\'contains\')">\n                </th>\n                <th>\n                    <input pInputText type="quantity" (input)="dt.filter($event.target.value, \'quantity\', filterMatchMode=\'contains\')">\n                </th>\n            </tr>\n        </ng-template>\n\n        <ng-template pTemplate="body" let-rowProd>\n            <tr>\n                <td>\n                    {{rowProd["id"]}}\n                </td>\n                <td>\n                    {{rowProd["name"]}}\n                </td>\n                <td>\n                    {{rowProd["brand"]}}\n                </td>\n                <td>\n                    {{rowProd["price"]}}\n                </td>\n                <td>\n                    {{rowProd["quantity"]}}\n                </td>\n                <td class="text-center edit-block">\n                    <span class="edit" [routerLink]="[\'/products/edit/\', rowProd[\'id\']]">\n                        <button type="button" class="btn btn-success btn-sm">Editar</button>\n                    </span>\n                    <span class="delete" (click)="deleteProduct(rowProd[\'id\'])">\n                        <button type="button" class="btn btn-danger btn-sm">Excluir</button>\n                    </span>\n                </td>\n            </tr>\n        </ng-template>\n    </p-table>\n</div>'},434:function(t,e){t.exports='<div class="row">\n    <div class="col-md-6  offset-md-3 col-sm-10 offset-sm-1 register-product">\n        \x3c!-- form card register --\x3e\n        <form [formGroup]="productForm" (ngSubmit)="onSubmit()">\n            <div class="card card-outline-secondary">\n                <div class="card-header">\n                    <h3 class="mb-0">Adicionar Produto</h3>\n                </div>\n                <div class="card-body">\n\n                    <div class="form-group">\n                        <label for="inputNome">Nome</label>\n                        <input id="inputNome" class="form-control" type="text" formControlName="name" [ngClass]="{ \'is-invalid\': submitted && myForm.name.errors }" >\n                        <div class="invalid-feedback" *ngIf="submitted && myForm.name.errors?.required">\n                            Nome √© obrigat√≥rio.\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label for="inputBrand">Marca</label>\n                        <input id="inputBrand" class="form-control" type="text" formControlName="brand" [ngClass]="{ \'is-invalid\': submitted && myForm.brand.errors }" >\n                        \x3c!-- error --\x3e\n                        <div class="invalid-feedback" *ngIf="submitted && myForm.brand.errors?.required">\n                            Marca √© obrigat√≥ria.\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label for="inputPrice">Pre√ßo</label>\n                        <input id="inputPrice" class="form-control" type="text" formControlName="price" [ngClass]="{ \'is-invalid\': submitted && myForm.price.errors }" >\n                        \x3c!-- error --\x3e\n                        <div class="invalid-feedback" *ngIf="submitted && myForm.price.errors?.required">\n                            Pre√ßo √© obrigat√≥rio.\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label for="inputQuantity">Quantidade</label>\n                        <input id="inputQuantity" class="form-control" type="text" formControlName="quantity" [ngClass]="{ \'is-invalid\': submitted && myForm.quantity.errors }" >\n                        \x3c!-- error --\x3e\n                        <div class="invalid-feedback" *ngIf="submitted && myForm.quantity.errors?.required">\n                            Quantidade √© obrigat√≥ria.\n                        </div>\n                    </div>\n                </div>\n\n                <div class="card-footer text-right">\n                    <button class="btn btn-default" type="button" routerLink="/">Cancelar</button>\n                    <button [disabled]="loading" class="btn btn-primary" type="submit">\n                        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>Confirmar\n                    </button>\n                </div>\n            </div>\n        </form>\x3c!-- form card register --\x3e\n    </div>\n</div>'},435:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=r(73),s=r(82),c=r(49),u=r(54),l=function(){function t(t,e,r,n,o){this.formBuilder=t,this.route=e,this.router=r,this.authenticationService=n,this.alertService=o,this.loading=!1,this.submitted=!1,this.authenticationService.currentUserValue&&this.router.navigate(["/"])}return t.prototype.ngOnInit=function(){this.loginForm=this.formBuilder.group({email:["",[s.Validators.required,s.Validators.email]],password:["",s.Validators.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"},Object.defineProperty(t.prototype,"f",{get:function(){return this.loginForm.controls},enumerable:!0,configurable:!0}),t.prototype.onSubmit=function(){var t=this;this.submitted=!0,this.alertService.clear(),this.loginForm.invalid||(this.loading=!0,this.authenticationService.login(this.f.email.value,this.f.password.value).pipe(c.first()).subscribe(function(e){t.router.navigate([t.returnUrl])},function(e){t.alertService.error(e),t.loading=!1}))},t=n([i.Component({template:r(436)}),o("design:paramtypes",[s.FormBuilder,a.ActivatedRoute,a.Router,u.AuthenticationService,u.AlertService])],t)}();e.LoginComponent=l},436:function(t,e){t.exports='<div class="row">\n    <div class="col-md-6 offset-sm-3">\n        <h2>Login</h2>\n        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">\n            <div class="form-group">\n                <label for="email">login (E-mail)</label>\n                <input type="text" formControlName="email" class="form-control" [ngClass]="{ \'is-invalid\': submitted && f.email.errors }" />\n                <div *ngIf="submitted && f.email.errors" class="invalid-feedback">\n                    <div *ngIf="f.email.errors.required">Login √© obrigat√≥rio</div>\n                    <div *ngIf="f.email.errors.email">E-mail inv√°lido</div>\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="password">Senha</label>\n                <input type="password" formControlName="password" class="form-control" [ngClass]="{ \'is-invalid\': submitted && f.password.errors }" />\n                <div *ngIf="submitted && f.password.errors" class="invalid-feedback">\n                    <div *ngIf="f.password.errors.required">Senha √© obrigat√≥ria</div>\n                </div>\n            </div>\n            <div class="form-group">\n                <button [disabled]="loading" class="btn btn-primary">\n                    <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>\n                    Login\n                </button>\n                <a routerLink="/register" class="btn btn-link">Cadastre-se</a>\n            </div>\n        </form>\n    </div>\n</div>'},437:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=r(73),s=r(82),c=r(49),u=r(54),l=function(){function t(t,e,r,n,o){this.formBuilder=t,this.router=e,this.authenticationService=r,this.userService=n,this.alertService=o,this.loading=!1,this.submitted=!1,this.authenticationService.currentUserValue&&this.router.navigate(["/"])}return t.prototype.ngOnInit=function(){this.registerForm=this.formBuilder.group({name:["",s.Validators.required],email:["",[s.Validators.required,s.Validators.email]],password:["",[s.Validators.required,s.Validators.minLength(6)]]})},Object.defineProperty(t.prototype,"f",{get:function(){return this.registerForm.controls},enumerable:!0,configurable:!0}),t.prototype.onSubmit=function(){var t=this;this.submitted=!0,this.alertService.clear(),this.registerForm.invalid||(this.loading=!0,this.userService.register(this.registerForm.value).pipe(c.first()).subscribe(function(e){t.alertService.success("Registration successful",!0),t.router.navigate(["/login"])},function(e){t.alertService.error(e),t.loading=!1}))},t=n([i.Component({template:r(438)}),o("design:paramtypes",[s.FormBuilder,a.Router,u.AuthenticationService,u.UserService,u.AlertService])],t)}();e.RegisterComponent=l},438:function(t,e){t.exports='<div class="row">\n    <div class="col-md-6 offset-md-3 col-sm-10 offset-sm-1">\n        <h2>Cadastre-se</h2>\n        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">\n            <div class="form-group">\n                <label for="name">Nome</label>\n                <input type="text" formControlName="name" class="form-control" [ngClass]="{ \'is-invalid\': submitted && f.name.errors }" />\n                <div *ngIf="submitted && f.name.errors" class="invalid-feedback">\n                    <div *ngIf="f.name.errors.required">Nome √© obrigat√≥rio</div>\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="email">E-mail</label>\n                <input type="text" formControlName="email" class="form-control" [ngClass]="{ \'is-invalid\': submitted && f.email.errors }" />\n                <div *ngIf="submitted && f.email.errors" class="invalid-feedback">\n                    <div *ngIf="f.email.errors.required">E-mail √© obrigat√≥rio</div>\n                    <div *ngIf="f.email.errors.email">E-mail inv√°lido</div>\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="password">Senha</label>\n                <input type="password" formControlName="password" class="form-control" [ngClass]="{ \'is-invalid\': submitted && f.password.errors }" />\n                <div *ngIf="submitted && f.password.errors" class="invalid-feedback">\n                    <div *ngIf="f.password.errors.required">Senha √© obrigat√≥ria</div>\n                    <div *ngIf="f.password.errors.minlength">A senha precisa ter pelo menos 6 caracteres</div>\n                </div>\n            </div>\n            <div class="form-group">\n                <button [disabled]="loading" class="btn btn-primary">\n                    <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>\n                    Cadastrar\n                </button>\n                <a routerLink="/login" class="btn btn-link">Cancelar</a>\n            </div>\n        </form>\n    </div>\n</div>\n\n'},439:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=r(73),s=r(54),c=function(){function t(t,e){this.router=t,this.authenticationService=e}return t.prototype.canActivate=function(t,e){return!!this.authenticationService.currentUserValue||(this.router.navigate(["/login"],{queryParams:{returnUrl:e.url}}),!1)},t=n([i.Injectable({providedIn:"root"}),o("design:paramtypes",[a.Router,s.AuthenticationService])],t)}();e.AuthGuard=c},440:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=r(50),s=r(49),c=r(54),u=function(){function t(t){this.authenticationService=t}return t.prototype.intercept=function(t,e){var r=this;return e.handle(t).pipe(s.catchError(function(t){401===t.status&&(r.authenticationService.logout(),location.reload(!0));var e=t.error.message||t.statusText;return a.throwError(e)}))},t=n([i.Injectable(),o("design:paramtypes",[c.AuthenticationService])],t)}();e.ErrorInterceptor=u},441:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=r(54),s=function(){function t(t){this.authenticationService=t}return t.prototype.intercept=function(t,e){var r=this.authenticationService.currentUserValue;return r&&r.token&&(t=t.clone({setHeaders:{Authorization:"Bearer "+r.token}})),e.handle(t)},t=n([i.Injectable(),o("design:paramtypes",[a.AuthenticationService])],t)}();e.JwtInterceptor=s},442:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=r(92),a=r(50),s=r(49),c=JSON.parse(localStorage.getItem("users"))||[],u=function(){function t(){}return t.prototype.intercept=function(t,e){var r=t.url,n=t.method,o=t.headers,u=t.body;return a.of(null).pipe(s.mergeMap(function(){switch(!0){case r.endsWith("/users/authenticate")&&"POST"===n:return o=u.username,i=u.password,(a=c.find(function(t){return t.username===o&&t.password===i}))?l({id:a.id,username:a.username,firstName:a.firstName,lastName:a.lastName,token:"fake-jwt-token"}):d("Username or password is incorrect");case r.endsWith("/users/register")&&"POST"===n:return function(){var t=u;if(c.find(function(e){return e.username===t.username}))return d('Username "'+t.username+'" is already taken');return t.id=c.length?Math.max.apply(Math,c.map(function(t){return t.id}))+1:1,c.push(t),localStorage.setItem("users",JSON.stringify(c)),l()}();case r.endsWith("/users")&&"GET"===n:return f()?l(c):p();case r.match(/\/users\/\d+$/)&&"DELETE"===n:return f()?(c=c.filter(function(t){return t.id!==(e=r.split("/"),parseInt(e[e.length-1]));var e}),localStorage.setItem("users",JSON.stringify(c)),l()):p();default:return e.handle(t)}var o,i,a})).pipe(s.materialize()).pipe(s.delay(500)).pipe(s.dematerialize());function l(t){return a.of(new i.HttpResponse({status:200,body:t}))}function d(t){return a.throwError({error:{message:t}})}function p(){return a.throwError({status:401,error:{message:"Unauthorised"}})}function f(){return"Bearer fake-jwt-token"===o.get("Authorization")}},t=n([o.Injectable()],t)}();e.FakeBackendInterceptor=u,e.fakeBackendProvider={provide:i.HTTP_INTERCEPTORS,useClass:u,multi:!0}},443:function(t,e){t.exports='<div class="row">\n    <div class="col-md-6  offset-md-3 col-sm-10 offset-sm-1 register-product">\n        \x3c!-- form card register --\x3e\n        <form [formGroup]="editForm" (ngSubmit)="onSubmit()">\n            <div class="card card-outline-secondary">\n                <div class="card-header">\n                    <h3 class="mb-0">Editar Produto</h3>\n                </div>\n                <div class="card-body">\n\n                    <div class="form-group">\n                        <label for="inputNome">Nome</label>\n                        <input id="inputNome" class="form-control" type="text" formControlName="name" [ngClass]="{ \'is-invalid\': submitted && myForm.name.errors }" >\n                        <div class="invalid-feedback" *ngIf="submitted && myForm.name.errors?.required">\n                            Nome √© obrigat√≥rio.\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label for="inputBrand">Marca</label>\n                        <input id="inputBrand" class="form-control" type="text" formControlName="brand" [ngClass]="{ \'is-invalid\': submitted && myForm.brand.errors }" >\n                        \x3c!-- error --\x3e\n                        <div class="invalid-feedback" *ngIf="submitted && myForm.brand.errors?.required">\n                            Marca √© obrigat√≥ria.\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label for="inputPrice">Pre√ßo</label>\n                        <input id="inputPrice" class="form-control" type="text" formControlName="price" [ngClass]="{ \'is-invalid\': submitted && myForm.price.errors }" >\n                        \x3c!-- error --\x3e\n                        <div class="invalid-feedback" *ngIf="submitted && myForm.price.errors?.required">\n                            Pre√ßo √© obrigat√≥rio.\n                        </div>\n                    </div>\n\n                    <div class="form-group">\n                        <label for="inputQuantity">Quantidade</label>\n                        <input id="inputQuantity" class="form-control" type="text" formControlName="quantity" [ngClass]="{ \'is-invalid\': submitted && myForm.quantity.errors }" >\n                        \x3c!-- error --\x3e\n                        <div class="invalid-feedback" *ngIf="submitted && myForm.quantity.errors?.required">\n                            Quantidade √© obrigat√≥ria.\n                        </div>\n                    </div>\n\n\n                    <div class="card-footer text-right">\n                        <button [disabled]="loading" class="btn btn-default" type="button" routerLink="/">Cancelar</button>\n                        <button class="btn btn-primary" type="submit">\n                            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>\n                            Confirmar\n                        </button>\n                    </div>\n\n                </div>\n            </div>\n        </form>\x3c!-- form  --\x3e\n    </div>\n</div>\n'},444:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=r(73),s=r(54);r(445);var c=function(){function t(t,e){var r=this;this.router=t,this.authenticationService=e,this.authenticationService.currentUser.subscribe(function(t){return r.currentUser=t})}return t.prototype.logout=function(){this.authenticationService.logout(),this.router.navigate(["/login"])},t=n([i.Component({selector:"app",template:r(450)}),o("design:paramtypes",[a.Router,s.AuthenticationService])],t)}();e.AppComponent=c},445:function(t,e,r){var n=r(446);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(448)(n,o);n.locals&&(t.exports=n.locals)},446:function(t,e,r){(t.exports=r(447)(!1)).push([t.i,"a {\n  cursor: pointer;\n}\n",""])},450:function(t,e){t.exports='\x3c!-- nav --\x3e\n<nav class="navbar navbar-expand navbar-dark bg-dark" *ngIf="currentUser">\n    <div class="navbar-nav">\n        <a class="nav-item nav-link" routerLink="/">Home</a>\n        <a class="nav-item nav-link" (click)="logout()">Logout</a>\n    </div>\n</nav>\n\n\x3c!-- main app container --\x3e\n<div class="jumbotron">\n    <div class="container">\n        <div class="row center-block">\n            <div class="col-md-12">\n                <alert></alert>\n                <router-outlet></router-outlet>\n            </div>\n        </div>\n    </div>\n</div>'},451:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(452))},452:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=r(54),s=function(){function t(t){this.alertService=t}return t.prototype.ngOnInit=function(){var t=this;this.subscription=this.alertService.getAlert().subscribe(function(e){switch(e&&e.type){case"success":e.cssClass="alert alert-success";break;case"error":e.cssClass="alert alert-danger"}t.message=e})},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t=n([i.Component({selector:"alert",template:r(453)}),o("design:paramtypes",[a.AlertService])],t)}();e.AlertComponent=s},453:function(t,e){t.exports='<div *ngIf="message" [ngClass]="message.cssClass">{{message.text}}</div>'},54:function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),n(r(313)),n(r(314)),n(r(315)),n(r(316))}},[[255,1,2]]]);